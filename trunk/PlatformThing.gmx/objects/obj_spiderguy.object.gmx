<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>spr_spiderguy</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>e_stunned = 0
e_yspeed = 0;
e_xspeed = 0;
e_xspeedmax = 2;
e_yspeedmax = 12;
e_dropspeed = 0.25;
e_ydir = 0;
e_xdir = 1;
e_canjump = 0;
e_canmove = 0;
e_dirmoving = 1
e_imageindex = 0;
e_headimageindex = 0;
gescheck = 0
eyeang = 0
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>//Detect if the ground is beneath our feet
if(collision_rectangle(bbox_left+1,y-10,bbox_right-2,y-10+e_yspeed+(sprite_height/2*e_ydir),obj_block,1,1)){
    e_canjump = 1
    if(e_ydir == -1){
        e_yspeed += 5
    }
}
else{
    e_canjump = 0
}
//Detect if there is a wall to our left or right
//if(collision_line(x,y,x+e_xspeed+(16*e_xdir),y,obj_block,1,1)){
//    e_canmove = 0
//}
if(collision_rectangle(x-(18*e_xdir),bbox_top,x+e_xspeed+(20*e_xdir),bbox_bottom-2,obj_block,1,1)){
    e_dirmoving = -e_dirmoving
    x += -0.1*e_xdir
    e_canmove = 0
}
else{
    e_canmove = 1
}
//Determine the directions we're going
if(e_yspeed != 0){
    e_ydir = sign(e_yspeed)
}
if(e_xspeed != 0){
    e_xdir = sign(e_xspeed)
}
//Gravity is applied if collision allows
if(e_canjump = 0 and e_yspeed &lt; e_yspeedmax){
    e_yspeed += e_dropspeed
}
//Gravity is turned off if we're touching the ground
if(e_canjump = 1){
    e_yspeed = 0
}
//Actually make the gravity move the enemy
if(e_yspeed != 0){
    y += e_yspeed
}

if(e_dirmoving == -1 and e_xspeed &gt; -e_xspeedmax and place_free(x+e_xspeed+(17*e_xdir),y) and e_stunned == 0){
    e_xspeed -= 0.5
}
if(e_dirmoving == 1 and e_xspeed &lt; e_xspeedmax and place_free(x+e_xspeed+(17*e_xdir),y) and e_stunned == 0){
    e_xspeed += 0.5
}


//Actually move the enemy as long as there's no wall
if(e_canmove == 1 and e_xspeed != 0){
    x += e_xspeed
}
//Animate legs
if(e_canmove == 1){
    if(e_dirmoving == -1){
        e_imageindex +=  abs(e_xspeed/13.75)
    }
    else{
        e_imageindex -=  abs(e_xspeed/13.75)
    }
    if(e_imageindex &lt; 0){
        e_imageindex = 4
    }
    if(e_imageindex &gt; 4){
        e_imageindex = 0
    }
}

//Animate head
if(e_headimageindex &lt; 3){
    e_headimageindex += 0.25
}
else{
    e_headimageindex = 0
}

//Gesture check
if(gescheck == 1){
    if(collision_line(obj_control.mousestartx,obj_control.mousestarty,mouse_x,mouse_y,id,false,false)){
        e_stunned = 1
    }
    gescheck = 0
}

//Slow to a stop when stunned
if(e_stunned == 1 and abs(e_xspeed) &gt; 0){
    e_xspeed += 0.025*-sign(e_xspeed)
}
if(eyeang &lt; 360){
    eyeang += 4
}
else{
    eyeang = 0
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if(e_stunned == 0){
draw_sprite(spr_spiderguy,e_headimageindex,x,y)
//Sphider Lhegsss
//Left middle leg
draw_sprite_ext(spr_spiderleg,e_imageindex,x,y,1,1,0,c_white,1)
//Left front leg
draw_sprite_ext(spr_spiderleg,e_imageindex+2,x+1,y+7,0.9,0.9,0,c_white,1)
//Left back leg
draw_sprite_ext(spr_spiderleg,e_imageindex+3,x-4,y+2,0.8,0.8,0,c_white,1)
//Right middle leg
draw_sprite_ext(spr_spiderleg,4-e_imageindex,x,y,-1,1,0,c_white,1)
//Right front leg
draw_sprite_ext(spr_spiderleg,4-e_imageindex+2,x-3,y+7,-0.9,1,0,c_white,1)
//Left back leg
draw_sprite_ext(spr_spiderleg,4-e_imageindex+3,x-4,y+2,-0.8,0.8,0,c_white,1)
}
else{
    draw_sprite(spr_spiderguy_stunned,e_headimageindex,x,y)
    draw_sprite_ext(spr_spiderguy_stunned_eye,0,x+lengthdir_x(10,130),y+lengthdir_y(10,130),1,1,eyeang,image_blend,image_alpha)
    draw_sprite_ext(spr_spiderguy_stunned_eye,0,x+lengthdir_x(10,50),y+lengthdir_y(10,50),1,1,eyeang,image_blend,image_alpha)
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
