<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>spr_player</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>//Starting variables
image_xscale = obj_control.gamescale
image_yscale = obj_control.gamescale

playerhealth = 100
playershield = 100
maxspeed = 3
friction = 0.1
turretang = 0
canshoot = 1
trail_lastx = x
trail_lasty = y
shootlaser = 0
treadspeed = 0
treads=part_system_create();
shieldalpha = 0
shielddir = 0
shieldrecharging = 0
global.combo = 0

mainguns[1] = scr_main_single
mainguns[2] = scr_main_shotgun
mainguns[3] = scr_main_fastsingle
mainguns[4] = scr_main_fastshotgun
mainguns[5] = scr_main_beamlaser
mainguns_count = 5

maingun = 1
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="1">
      <action>
        <libid>1</libid>
        <id>605</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>0</useapplyto>
        <exetype>0</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>Recharge shield</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>shieldrecharging = 1
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>611</id>
        <kind>6</kind>
        <userelative>-1</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>canshoot</string>
          </argument>
          <argument>
            <kind>0</kind>
            <string>1</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>other</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>
//move and shit
if(speed&gt;(maxspeed/32)*(obj_control.viewdragdist2)){
    speed = (maxspeed/32)*(obj_control.viewdragdist2)
}
if(obj_control.movingstick2 = true and point_distance(obj_control.cx2,obj_control.cy2,mouse_x+obj_control.dragmouseoffx2,mouse_y+obj_control.dragmouseoffy2)&gt;4 or keyboard_check(ord('W')) or keyboard_check(ord('A')) or keyboard_check(ord('S')) or keyboard_check(ord('D'))){
    motion_add(rotate(direction,obj_control.viewdragdir2,16),0.5)
}

//look where you're going stupid
if(speed &gt; 0){
    image_angle = rotate(image_angle,direction,32)
    if(obj_control.movingstick1 = false and !keyboard_check(vk_up) and !keyboard_check(vk_down) and !keyboard_check(vk_left) and !keyboard_check(vk_right)){
        turretang = rotate(turretang,direction,16)
    }
    //Fix the 180 degree turn thing where it gets stuck
    if(image_angle == obj_control.viewdragdir2 + 180){
        image_angle += 10
        direction += 10
    }
}

//make the turret look where it should
if((obj_control.movingstick1 = true and point_distance(obj_control.cx,obj_control.cy,mouse_x+obj_control.dragmouseoffx,mouse_y+obj_control.dragmouseoffy)&gt;4) or keyboard_check(vk_up) or keyboard_check(vk_down) or keyboard_check(vk_left) or keyboard_check(vk_right)){
    turretang = rotate(turretang,obj_control.viewdragdir,8)
}

//Handle tank trails
if(point_distance(x+lengthdir_x(32,image_angle+180),y+lengthdir_y(32,image_angle+180),trail_lastx,trail_lasty)&gt;8){
    trail_lastx = x+lengthdir_x(32,image_angle+180)
    trail_lasty = y+lengthdir_y(32,image_angle+180)
}

//Tread speed
treadspeed += speed/10

//Shield effect
if(shieldalpha&gt;0){
    shieldalpha-=0.05
}
if(shieldrecharging == 1 and playershield &lt; 100){
    part_shieldrecharge();
    playershield += 0.2
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="obj_enemy">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>//motion_add(point_direction(x,y,other.x,other.y)+180,0.2)
move_contact_all(point_direction(x,y,other.x,other.y)+180,8)
speed = speed/2
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>other</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>

//Draw treads
draw_sprite_ext(spr_player_treads,treadspeed,    l_plane_x(38,35),   l_plane_y(38,35)     , image_xscale,image_yscale,direction,c_white,1)
draw_sprite_ext(spr_player_treads,treadspeed,    l_plane_x(38,-35),  l_plane_y(38,-35)    ,image_xscale,image_yscale,direction,c_white,1)
draw_sprite_ext(spr_player_treads,treadspeed,    l_plane_x(-24,35),  l_plane_y(-24,35)    ,image_xscale,image_yscale,direction,c_white,1)
draw_sprite_ext(spr_player_treads,treadspeed,    l_plane_x(-24,-35), l_plane_y(-24,-35)   ,image_xscale,image_yscale,direction,c_white,1)

//Draw body &amp; turret
draw_self();
draw_sprite_ext(spr_turret_debug,0,l_plane_x(-8,0),l_plane_y(-8,0),image_xscale,image_yscale,turretang,c_white,1)

script_execute(mainguns[maingun])

//Draw shield (only if hit)
if(shieldalpha &gt; 0){
    draw_sprite_ext(spr_shield,0,x,y,1,1,shielddir,c_white,shieldalpha)
}


//Tread trails
//draw_tanktracks();
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
